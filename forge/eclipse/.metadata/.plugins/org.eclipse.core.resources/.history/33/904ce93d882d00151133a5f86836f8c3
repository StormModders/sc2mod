package com.hohmangaming.starcraftmod.worldgen;

import java.util.ArrayList;

import com.hohmangaming.starcraftmod.Ids;

import net.minecraft.world.WorldType;
import net.minecraft.world.biome.BiomeGenBase;
import net.minecraft.world.gen.layer.GenLayer;
import net.minecraftforge.common.BiomeManager;
import net.minecraftforge.common.BiomeManager.BiomeEntry;

/**
 *
 * @author CovertJaguar <http://www.railcraft.info/>
 */
public class GenLayerAddVespeneDesert extends GenLayerBiomeReplacer {

	protected static final double NOISE_FIELD_SCALE = 0.001;
	protected static final double NOISE_FIELD_THRESHOLD = 0.7;

	public GenLayerAddVespeneDesert(final long worldSeed, final long seed, final GenLayer parent) {
		super(worldSeed, seed, parent, NOISE_FIELD_SCALE, NOISE_FIELD_THRESHOLD, Ids.BIOME_VESPENE_DESERT);

        for (BiomeManager.BiomeType type : BiomeManager.BiomeType.values())
        {
            com.google.common.collect.ImmutableList<BiomeEntry> biomesToAdd = BiomeManager.getBiomes(type);
            int idx = type.ordinal();
            
            if (biomes[idx] == null) biomes[idx] = new ArrayList<BiomeEntry>();
            if (biomesToAdd != null) biomes[idx].addAll(biomesToAdd);
        }
        
        int desertIdx = BiomeManager.BiomeType.DESERT.ordinal();
        
        if (p_i2122_4_ == WorldType.DEFAULT_1_1)
        {
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.desert, 10));
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.forest, 10));
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.extremeHills, 10));
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.swampland, 10));
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.plains, 10));
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.taiga, 10));
        }
        else
        {
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.desert, 30));
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.savanna, 20));
            biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.plains, 10));
        }

        biomes[desertIdx].add(new BiomeEntry(BiomeGenBase.taiga, 10));

		
	}

	@Override
	protected boolean canReplaceBiome(int biomeId) {
		return biomeId == BiomeGenBase.desert.biomeID;
	}
}
